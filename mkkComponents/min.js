var es=function(t){"use strict";const e={},n=t=>e[t],o={},l=t=>{if(o[t])throw"An event with this id already exists";return o[t]={listeners:{},remove:()=>(t=>{delete o[t]})(t),dispatch:e=>(({id_event:t,args:e})=>{const n=o[t];for(const t in n.listeners)try{n.listeners[t].callback(e)}catch(t){}})({id_event:t,args:e}),addListener:e=>(({id_event:t,callback:e})=>{if(!isFunction(e))return!1;const n=o[t],l=GlobalThings.get_UID(10);return n.listeners[l]={callback:e,remove:()=>{delete n.listeners[l]}},n.listeners[l].remove})({id_event:t,callback:e})},o[t]};var c=t=>{const o=n(t);if(!o)throw"This component does not exists";try{const{element:t}=o;t.parentNode.removeChild(t)}catch(t){}(t=>{delete e[t]})(t)},s=t=>{if(!n(t))throw"This component does not exists";const{data:e,template:o,element:l}=n(t);let c=o;for(const t in e)c=c.replaceAll(`{${t}}`,e[t]);l.innerHTML=c},a=(t,e,o)=>{const l=n(t);if(!l)throw"This component does not exists";e=e||{},!1!==(o=o||{}).merge&&(e={...l.data,...e}),l.onChangeDataEvent&&l.onChangeDataEvent.dispatch({...e}),l.data=e},i=(t,e)=>{const o=n(t);if(!o)throw"This component does not exists";o.template=e||""},r=(t,e)=>{const o=n(t);if(!o)throw"This component does not exists";o.onChangeDataEvent||(o.onChangeDataEvent=l(t+"_onChangeDataEvent"));return o.onChangeDataEvent.addListener(e)};const m=function(t,n){n=n||{},t=t||"div";const{data:o,template:l}=n,m=GlobalThings.get_UID(150),p=(t=>document.createElement(t))(t);((t,n)=>{e[t]=n})(m,{uid:m,element:p,tag_name:t,data:{},template:""}),i(m,l),a(m,o);const d=()=>{s(m)};return{element:p,appendTo:t=>{t.appendChild(p),d()},setData:t=>{a(m,t),d()},setTemplate:t=>{i(m,t),d()},render:d,onChangeData:t=>{r(m,t)},destroy:()=>{c(m)}}},p={},d=t=>{document.querySelector("html").style.overflow="",p[t]._destroy()},u=t=>{document.querySelector("html").style.overflow="",p[t].element.style.display="none","function"==typeof p[t].onclose&&p[t].onclose()},_=t=>{document.querySelector("html").style.overflow="hidden",p[t].element.style.display=""},y=({template:t,type:e,position:n,top:o,all_height:l})=>{t=t||"";const c=g[n]||g[v];return`\n\t\t\t\t<div class="components_modal--overlay"></div>\n\t\t\t\t<div class="components_modal--display">\n\t\t\t\t\t<div class="components_modal--content ${f[e]||f[h]} ${c} ${l?"components_modal--content__all_height":""}" style="--top: ${o||"40px"};">\n\t\t\t\t\t\t${t||C}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`},h="medium",f={small:"components_modal--content__small",small_600:"components_modal--content__small_600",medium:"components_modal--content__medium",medium_1200:"components_modal--content__medium_1200",medium_1300:"components_modal--content__medium_1300",large:"components_modal--content__large",complete:"components_modal--content__complete"},v="center",g={left:"components_modal--content__left",center:"components_modal--content__center",right:"components_modal--content__right"},C='\n\t\t\t<div class="components_modal--header"> </div>\n\t\t\t<div class="components_modal--body"> </div>\n\t\t\t<div class="components_modal--footer"> </div>\n\t\t',b=t=>{t=t||{};const{data:e,content:n,accept:o,cancel:l}=t,c=x({content:n,accept:o,cancel:l}),{appendTo:s,element:a,destroy:i}=m("div",{data:e,template:c});a.className="components_alert",s(document.body);return{acceptButton:a.querySelector('[btn-id="accept"]'),cancelButton:a.querySelector('[btn-id="cancel"]'),element:a,destroy:i}},x=({content:t,cancel:e,accept:n})=>`\n\t\t<div class="components_alert--overlay"> </div>\n\n\t\t<div class="components_alert--content">\n\t\t\t<div class="components_alert--content--text">\n\t\t\t\t${t}\n\t\t\t</div>\n\t\t\t<div class="components_alert--content--controllers">\n\t\t\t\t${e?`\n\t\t<span class="components_alert--content--controllers--btn components_alert--content--controllers--btn__cancel" btn-id="cancel">${e}</span>\n\t`:""}\n\t\t\t\t<span class="components_alert--content--controllers--btn components_alert--content--controllers--btn__accept" btn-id="accept">${n=n||"Accept"}</span>\n\t\t\t</div>\n\t\t</div>\n\t`,E=function(t){const{id:e,data:n,title:o,inputs:l,accept:c,cancel:s,onAccept:a}=t,i=T({title:o,inputs:l}),{acceptButton:r,cancelButton:m,destroy:p,element:d}=b({data:n,content:i,accept:c,cancel:s||"Cancel"});return d.className+=" components_prompt",d.id=e||"",new Promise((t=>{const e=e=>{const n=d.querySelectorAll("input"),o=Array.from(n).map((t=>t.value));p(),e||t(null),t(o)};r.onclick=()=>{if("function"!=typeof a)return e(!0);const t=d.querySelectorAll("input");a(Array.from(t))&&e(!0)},m.onclick=()=>e(!1)}))},T=({title:t,inputs:e})=>{e?.length||(e=[{}]);return`\n\t\t<div class="components_prompt--title">\n\t\t\t${t}\n\t\t</div>\n\t\t${e.reduce(((t,e)=>{const{label:n,type:o}=e;return t+`\n\t\t\t<div class="components_prompt--item">\n\t\t\t\t${n?`<label>${n}</label>`:""}\n\t\t\t\t<input class="components_prompt--input" type="${o||"text"}"/>\n\t\t\t</div>\n\t\t`}),"")}\n\n\t`};E.getSettingsExample=()=>({title:"Example",accept:"Change",cancel:"Cancel",inputs:[{label:"Name:"}],onAccept:t=>!(t[0].value>100)});const w={},B={duration:4e3,position:"bottom-left"},k={"top-left":"components_toast--container__top_left","top-right":"components_toast--container__top_right","bottom-left":"components_toast--container__bottom_left","bottom-right":"components_toast--container__bottom_right"},A={info:"components_toast--item__info",error:"components_toast--item__error",warning:"components_toast--item__warning",success:"components_toast--item__success"},N=({text:t,type:e})=>{L();const n=A[e]||A.success,o=document.createElement("div");o.innerHTML=t||"",o.className=n+" components_toast--item",-1===B.position.indexOf("top")?w[B.position].appendChild(o):w[B.position].insertBefore(o,w[B.position].firstChild),o.onclick=()=>$(o),setTimeout((()=>$(o)),B.duration)},$=t=>{t.classList.add("components_toast--item__clossing"),setTimeout((function(){t.parentNode.removeChild(t)}),1e3)};const L=()=>{if(w[B.position])return;const t=document.createElement("div");t.className=k[B.position]+" components_toast--container",document.body.appendChild(t),w[B.position]=t},D=({parentElement:t,element:e})=>(t.oncontextmenu=t=>{t.preventDefault(),e.style.display="",e.focus();const{pageY:n,pageX:o}=t,{offsetHeight:l,offsetWidth:c}=e;n+l>document.documentElement.clientHeight?(e.style.top="",e.style.bottom="0px"):(e.style.bottom="",e.style.top=n+"px"),o+c>document.documentElement.clientWidth?(e.style.left="",e.style.right="0px"):(e.style.right="",e.style.left=o+"px")},t),S=({element:t,elementColor:e,elementBgColor:n})=>(t.style.color=e,"initial"),M=({element:t,elementColor:e,elementBgColor:n})=>{const o=document.createElement("span");return o.className="components_button--state components_button--state__loading fas fa-spinner",o.style.color=e,t.style.color=n,t.appendChild(o),"loading"},q=({element:t,elementColor:e,elementBgColor:n})=>{const o=document.createElement("span");return o.className="components_button--state",o.style.color=e,t.style.color=n,t.appendChild(o),o},P={create:function(t){t=t||{};const{data:e,template:n,id:o,type:l,position:c,all_height:s,top:a,close_on_overlay_click:i,onclose:r}=t,h=m("div",{data:e,template:y({template:n,type:l,position:c,all_height:s,top:a})}),f=h.appendTo,v=o||(()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=t.length;let n="";for(let o=0;o<=100;o++)n+=t.charAt(Math.floor(Math.random()*e));return n})();if(h._destroy=h.destroy,p[v]={onclose:r,id:v,...h,open:()=>_(v),close:()=>u(v),destroy:()=>d(v)},p[v].element.className="components_modal",delete h.appendTo,p[v].element.style.display="none",p[v].element.id=o,f(document.body),!1!==i){const t=p[v].element.querySelector(".components_modal--display");p[v].element.querySelector(".components_modal--content").onclick=t=>t.stopPropagation(),t.onclick=t=>u(v)}return p[v]},destroyByID:d,closeByID:u,openByID:_},H=function(t){const{data:e,content:n,accept:o}=t,{acceptButton:l,destroy:c}=b({data:e,content:n,accept:o});return new Promise((t=>{l.onclick=()=>{t(!0),c()}}))},I=function(t){const{data:e,content:n,accept:o,cancel:l}=t,{acceptButton:c,cancelButton:s,destroy:a}=b({data:e,content:n,accept:o,cancel:l||"Cancel"});return new Promise((t=>{const e=e=>{t(e),a()};c.onclick=()=>e(!0),s.onclick=()=>e(!1)}))},O=E,U={success:t=>{N({text:t,type:"success"})},warning:t=>{N({text:t,type:"warning"})},error:t=>{N({text:t,type:"error"})},info:t=>{N({text:t,type:"info"})},set:({position:t,duration:e})=>{t&&(B.position=k[t]?t:B.position),Number(e)&&e>0&&(B.duration=e)}},G=function(t){t=t||{};const{items:e,onActive:n,darkMode:o}=t,{element:l}=m("div");l.setAttribute("tabindex","-1"),l.className="components_contextmenu",l.style.display="none",o&&l.classList.add("components_contextmenu__dark-mode"),document.body.appendChild(l),(e||[]).forEach((t=>{const e=m("a").element;e.className="components_contextmenu--item",e.innerHTML=`\n\t\t\t${t.text||""}\n\t\t`,l.appendChild(e),e.onclick=()=>{l.blur(),"function"==typeof n&&n(t)}})),l.addEventListener("focusout",(()=>{l.style.display="none"}));const c={appendTo:t=>{c.element=t,D({parentElement:t,element:l})},destroy:()=>{c.element&&(c.element.oncontextmenu=null,l.parentNode.removeChild(l))}};return c},W=function(t){let e="initial";const{element:n}=t||{};n.classList.add("components_button");const o=getComputedStyle(n),l=o.backgroundColor,c=o.color;return{setState:t=>{const o=n.querySelector(".components_button--state");return o&&o.parentNode.removeChild(o),e=t,"initial"===t?S({element:n,elementColor:c,elementBgColor:l}):"loading"===t?M({element:n,elementColor:c,elementBgColor:l}):q({element:n,elementColor:c,elementBgColor:l})},getState:()=>e}},j=function({element:t,items:e}){if(Array.isArray(e)||(e=[]),!(t instanceof HTMLElement)&&"INPUT"!==t?.tagName)throw"element key must be an input.";const n=m("ul"),o=n.element;return n.appendTo(document.body),o.style.display="none",o.className="components_autocomplete",e=e.map((e=>{const n=document.createElement("li");return o.appendChild(n),n.innerHTML=e,n.style.display="none",n.onclick=()=>{t.value=e},{text:e,liElement:n}})),t.addEventListener("input",(n=>{const{top:l,height:c,left:s,width:a}=t.getBoundingClientRect();o.style.top=`${l+c}px`,o.style.left=`${s}px`,o.style.width=`${a}px`;e.filter((e=>{const n=e.text.toLowerCase().indexOf(t.value.toLowerCase())>-1;return e.liElement.style.display=n?"":"none",n})).length?o.style.display="":o.style.display="none"})),t.addEventListener("focusout",(t=>{setTimeout((function(){o.style.display="none"}),200)})),{destroy:n.destroy}};var F={Modal:P,Alert:H,Confirm:I,Prompt:O,Toast:U,Button:W,ContextMenu:G,AutoComplete:j};return t.Alert=H,t.AutoComplete=j,t.Button=W,t.Confirm=I,t.ContextMenu=G,t.Modal=P,t.Prompt=O,t.Toast=U,t.default=F,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
